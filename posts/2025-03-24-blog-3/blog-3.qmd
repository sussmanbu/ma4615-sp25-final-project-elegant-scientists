---
title: "Blog 3"
editor: visual
---

```{r}

library(readr)  
library(dplyr) 
library(ggplot2)


epa_data <- read_csv("dataset/epa_air_qual.csv")


print(dim(epa_data))  
print(names(epa_data))  

### --- PM2.5 Concentration ---
pm25_stats <- summary(epa_data$`Daily Mean PM2.5 Concentration`)
print(pm25_stats)

mean_pm25 <- mean(epa_data$`Daily Mean PM2.5 Concentration`, na.rm = TRUE)
median_pm25 <- median(epa_data$`Daily Mean PM2.5 Concentration`, na.rm = TRUE)
sd_pm25 <- sd(epa_data$`Daily Mean PM2.5 Concentration`, na.rm = TRUE)
min_pm25 <- min(epa_data$`Daily Mean PM2.5 Concentration`, na.rm = TRUE)
max_pm25 <- max(epa_data$`Daily Mean PM2.5 Concentration`, na.rm = TRUE)
iqr_pm25 <- IQR(epa_data$`Daily Mean PM2.5 Concentration`, na.rm = TRUE)

cat("\n--- PM2.5 Summary ---\n")
cat("Mean PM2.5:", mean_pm25, "\n")
cat("Median PM2.5:", median_pm25, "\n")
cat("Standard Deviation:", sd_pm25, "\n")
cat("Min:", min_pm25, "  Max:", max_pm25, "\n")
cat("IQR:", iqr_pm25, "\n")

### --- Site Latitude ---
lat_stats <- summary(epa_data$`Site Latitude`)
print(lat_stats)

mean_lat <- mean(epa_data$`Site Latitude`, na.rm = TRUE)
median_lat <- median(epa_data$`Site Latitude`, na.rm = TRUE)
sd_lat <- sd(epa_data$`Site Latitude`, na.rm = TRUE)
min_lat <- min(epa_data$`Site Latitude`, na.rm = TRUE)
max_lat <- max(epa_data$`Site Latitude`, na.rm = TRUE)
iqr_lat <- IQR(epa_data$`Site Latitude`, na.rm = TRUE)

cat("\n--- Latitude Summary ---\n")
cat("Mean Latitude:", mean_lat, "\n")
cat("Median Latitude:", median_lat, "\n")
cat("Standard Deviation:", sd_lat, "\n")
cat("Min:", min_lat, "  Max:", max_lat, "\n")
cat("IQR:", iqr_lat, "\n")

### --- Site Longitude ---
lon_stats <- summary(epa_data$`Site Longitude`)
print(lon_stats)

mean_lon <- mean(epa_data$`Site Longitude`, na.rm = TRUE)
median_lon <- median(epa_data$`Site Longitude`, na.rm = TRUE)
sd_lon <- sd(epa_data$`Site Longitude`, na.rm = TRUE)
min_lon <- min(epa_data$`Site Longitude`, na.rm = TRUE)
max_lon <- max(epa_data$`Site Longitude`, na.rm = TRUE)
iqr_lon <- IQR(epa_data$`Site Longitude`, na.rm = TRUE)

cat("\n--- Longitude Summary ---\n")
cat("Mean Longitude:", mean_lon, "\n")
cat("Median Longitude:", median_lon, "\n")
cat("Standard Deviation:", sd_lon, "\n")
cat("Min:", min_lon, "  Max:", max_lon, "\n")
cat("IQR:", iqr_lon, "\n")

```

```{r}
library(readr)  
library(dplyr) 
library(ggplot2)  

epa_data <- read_csv("dataset/epa_air_qual.csv")

epa_data <- read_csv("dataset/epa_air_qual.csv")

epa_data$Date <- as.Date(epa_data$Date)

# 1. Scatter plot of PM2.5 vs AQI value
ggplot(epa_data, aes(x = `Daily Mean PM2.5 Concentration`, y = `Daily AQI Value`)) +
  geom_point(alpha = 0.5, color = "darkblue") +
  geom_smooth(method = "lm", color = "red") +
  labs(title = "Relationship Between PM2.5 Concentration and Air Quality Index (AQI)",
       x = "PM2.5 Concentration",
       y = "Air Quality Index") +
  theme_minimal()
```
1. Scatter plot of PM2.5 vs AQI value
This scatter plot shows the relationship between the daily average concentration of PM2.5 (X-axis) and the corresponding Air Quality Index (AQI) value (Y-axis). Each blue dot represents a day's measurement. The red line is a linear regression line showing the overall trend. The strong positive correlation visible in this graph shows that as PM2.5 concentrations increase, AQI values also increase in a predictable manner. This relationship is to be expected, as PM2.5 is the main component in calculating AQI values.
```{r}
# 2. Bar chart of PM2.5 by month (seasonal patterns)
epa_data$Month <- month(epa_data$Date)
monthly_avg <- epa_data %>%
  group_by(Month) %>%
  summarize(avg_pm25 = mean(`Daily Mean PM2.5 Concentration`, na.rm = TRUE))

ggplot(monthly_avg, aes(x = factor(Month), y = avg_pm25)) +
  geom_bar(stat = "identity", fill = "darkgreen") +
  labs(title = "Monthly Variation in PM2.5 Concentration",
       x = "Month",
       y = "Average PM2.5 Concentration") +
  scale_x_discrete(labels = month.abb) +
  theme_minimal()
```
2. Bar chart of PM2.5 by month (seasonal patterns)
This bar chart shows the average PM2.5 concentration for each month of the year. The X-axis shows the month and the Y-axis shows the average concentration of PM2.5. This visualization reveals seasonal patterns of air pollution. You can see which months typically have higher or lower PM2.5 levels. Typically, the winter months show higher concentrations due to increased heating and temperature inversions of trapped pollutants, while the summer months may have lower concentrations.
```{r}
# 3. Bar chart of observation count by monitoring method
method_counts <- epa_data %>%
  group_by(`Method Description`) %>%
  summarize(count = n()) %>%
  arrange(desc(count))

ggplot(head(method_counts, 10), aes(x = reorder(`Method Description`, count), y = count)) +
  geom_bar(stat = "identity", fill = "purple") +
  coord_flip() +
  labs(title = "Frequency of Monitoring Methods (Top 10)",
       x = "Monitoring Method",
       y = "Number of Observations") +
  theme_minimal()
```
3. Bar chart of observation count by monitoring method
This bar chart shows the ten most commonly used methods for monitoring PM2.5 concentrations. The Y-axis lists the different monitoring method descriptions, and the X-axis shows the count of observations made using each method. This visualization is important for understanding data collection methods. Different monitoring methods may have different levels of accuracy, detection limits, or biases. Datasets dominated by one or both methods provide more consistent measurements, while more diverse method sets may introduce variability that needs to be taken into account when interpreting results.